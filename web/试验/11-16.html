<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 01</title>
  </head>
<body>

  <label>请输入北京今天空气质量：<input id="aqi-input" type="text"></label>
  <button id="button">确认填写</button>

  <div>您输入的值是：<span id="aqi-display">尚无录入</span></div>

  <label>请输入北京今天空气质量：<input id="text" type="text"></label>
  <button id="an">确认填写</button>

  <div>您输入的值是：<span id="zhi">尚无录入</span></div>

<script type="text/javascript">

(function() {
  /*	
  在注释下方写下代码
  给按钮button绑定一个点击事件
  在事件处理函数中
  获取aqi-input输入的值，并显示在aqi-display中
  */
   function hidder(){
      var num = document.getElementById('aqi-input').value;
      var ic = parseInt(num)
      if ((ic>=0)&&(ic<=1000))
      {
        document.getElementById('aqi-display').innerHTML= ic;
      }
      else
      {
        alert(num+' 不是有效值，请输入0-1000的有效数值！')
      }
  };

  document.getElementById('button').onclick = function(){
    hidder();
  }

  document.getElementById('aqi-input').onkeyup = function(event){
    if(event.keyCode === 13){
      hidder();
    }
  }

})();

(function(){

  var $ = function (id) {
    return document.getElementById(id);
  }

  var haide = function(){
          var aac = parseInt($('text').value);
          if ((!isNaN(aac))&&(aac>=0)&&(aac<=1000))
          {
            $('zhi').innerHTML = aac;
          }
          else
          {
            alert($('text').value+' 不是有效值，请输入0-1000的有效数值！')
          }
  }

  $('an').onclick = function()
  {
    haide();
  }

  $('text').onkeyup = function(event)
  {
    if (event.keyCode === 13) 
    {
      haide();
    }
  }
})();

</script>


<h3>污染城市列表</h3>
<ul id="aqi-list">
    <!--
        <li>第一名：福州（样例），10</li>
          <li>第二名：福州（样例），10</li> -->
</ul>

<script type="text/javascript">
    var aqiData = [
        ["北京", 90],
        ["上海", 50],
        ["福州", 10],
        ["广州", 50],
        ["成都", 90],
        ["西安", 100]
    ];
    (function () {
        /*
         在注释下方编写代码
         遍历读取aqiData中各个城市的数据
         将空气质量指数大于60的城市显示到aqi-list的列表中
         */
        var oList = document.getElementById("aqi-list");
        var arr = ["一","二","三","四","五"];
        //sort 从大到小
        aqiData.sort(function(a,b){
          return b[1]-a[1];
        });
        oList.innerHTML = "";
        for(var i=0;i<aqiData.length;i++){
          
          if(aqiData[i][1]>60){
            var oLi = document.createElement("li");
            oLi.innerHTML = '第'+arr[i]+'名：'+aqiData[i][0]+','+aqiData[i][1];
            oList.appendChild(oLi);
          }
        }
    })();
</script>


<h3>污染城市列表</h3>
<ul id="ul">
    <!--
        <li>第一名：福州（样例），10</li>
          <li>第二名：福州（样例），10</li> -->
</ul>

<script type="text/javascript">
    var aqiData = [
        ["北京", 90],
        ["上海", 50],
        ["福州", 10],
        ["广州", 50],
        ["成都", 90],
        ["西安", 100]
    ];
    (function () {
        /*
         在注释下方编写代码
         遍历读取aqiData中各个城市的数据
         将空气质量指数大于60的城市显示到aqi-list的列表中
         */
        var $ = function(id){ return document.getElementById(id); }

        var abc = ["一","二","三","四","五"];

        aqiData.sort(function(a,b){ return b[1] - a[1] });

        $('ul').innerHTML = "";

        for(var i=0;i < aqiData.length;i++)
        {
          if (aqiData[i][1]>60)
          {
            var oli = document.createElement("li");
            oli.innerHTML = "第"+abc[i]+"名："+aqiData[i][0]+","+aqiData[i][1];
            $('ul').appendChild(oli);
          }
        }
    })();
</script>


</body>
</html>